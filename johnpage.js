const subjectsData = [
  { // P.E (index 0)
    name: "JOHN MATHEW MONTE",
    photos: [
      { thumb: "John Media Folder/Pictures/PE/selfie.jpg", text: "P.E - That's me with the mask and my friend holding the camera." },
      { thumb: "John Media Folder/Pictures/PE/pushup.jpg", text: "P.E - This is me performing a pushup, and it is quite exhausting." },
      { thumb: "John Media Folder/Pictures/PE/mountainclimbers.jpg", text: "P.E - This is me performing a mountain climber excercise, quite easy to do I probably need to fix my form better." },
      { thumb: "John Media Folder/Pictures/PE/squats.jpg", text: "P.E - This is my groupmates performing a squat. Not the best form but they are trying." },
      { thumb: "John Media Folder/Pictures/PE/PATHFIT2.jpg", text: "P.E - A photo during PE along with my groupmates. This is after we did our jog around the court." },
      { thumb: "John Media Folder/Pictures/PE/wallpushup.jpg", text: "P.E - This is me performing a wall pushup." },
    ],
    videos: [
      { video: "<video width='450' height='230' controls><source src='John Media Folder/Videos/P.E/vid.mp4' type='video/mp4'>Your browser does not support the video tag.</video>", text: "P.E - Me and my Groupmates during P.E Class." },
    ]
  },
  { // NSTP
    name: "JOHN MATHEW MONTE",
    photos: [
      { thumb: "John Media Folder/Pictures/NSTP/MentalDuty 1.png", text: "NSTP - This is me on duty during the Mental Awareness Seminar. It is one of the best experiences I have gotten." },
      { thumb: "John Media Folder/Pictures/NSTP/MentalWellnessDuty.png", text: "NSTP - This is taken during the Mental Awareness Seminar." },
      { thumb: "John Media Folder/Pictures/NSTP/MentalwellnessDuty2.png", text: "NSTP - Another photo taken during the Mental Awareness Seminar." },
      { thumb: "John Media Folder/Pictures/NSTP/community immersion.png", text: "NSTP - This is taken during the Community Immersion online class." },
      { thumb: "John Media Folder/Pictures/NSTP/10825.png", text: "NSTP - Attendance photo for the Community Immersion class." },
      { thumb: "John Media Folder/Pictures/NSTP/AIseminar.png", text: "NSTP - This is taken during the Ethical use of AI seminar." },
      { thumb: "John Media Folder/Pictures/NSTP/grupAI.png", text: "NSTP - This is me and my friends attending the Ethical use of AI seminar." },
      { thumb: "John Media Folder/Pictures/NSTP/citizenship training.png", text: "NSTP - This is taken during the Citizenship Training program in NSTP." },
      { thumb: "John Media Folder/Pictures/NSTP/citizenship training 2.png", text: "NSTP - This is also taken during the Citizenship Training." },
      { thumb: "John Media Folder/Pictures/NSTP/Cybercrimeduty1.png", text: "NSTP - This is taken while I'm on duty during the Cybercrime awareness seminar." },
      { thumb: "John Media Folder/Pictures/NSTP/bog.jpg", text: "NSTP - This is taken during the National CPR Day." },
    ],
  },
  { // SINAG
    name: "JOHN MATHEW MONTE",
   photos: [
      { thumb: "John Media Folder/Pictures/SINAG TAMARAW/1.jpg", text: "SINAG - Me and my Sinag Ticket kind of tired standing due to the long line that day." },
      { thumb: "John Media Folder/Pictures/SINAG TAMARAW/2.jpg", text: "SINAG - A picture of what would be the place of the event and also the stage of Cainta Campus." },
      { thumb: "John Media Folder/Pictures/SINAG TAMARAW/3.jpg", text: "SINAG - Me and my friends while in the walkway in Cainta Campus." },
      { thumb: "John Media Folder/Pictures/SINAG TAMARAW/4.jpg", text: "SINAG - Another photo with my friends." },
      { thumb: "John Media Folder/Pictures/SINAG TAMARAW/5.jpg", text: "SINAG - A picture during the afternoon events." },
      { thumb: "John Media Folder/Pictures/SINAG TAMARAW/6.jpg", text: "SINAG - A photo of one of the stalls in the walkway." },
      { thumb: "John Media Folder/Pictures/SINAG TAMARAW/7.jpg", text: "SINAG - A photo of the singers in the stage." },
      { thumb: "John Media Folder/Pictures/SINAG TAMARAW/8.jpg", text: "SINAG - A picture containing all of the professors from Cainta and Marikina and I believe Rodriguez Campus too." },
      { thumb: "John Media Folder/Pictures/SINAG TAMARAW/9.jpg", text: "SINAG - A selfie photo with Sir Roel Malubay." },
      { thumb: "John Media Folder/Pictures/SINAG TAMARAW/10.jpg", text: "SINAG - A picture during the performance of ProjectWan." },
      { thumb: "John Media Folder/Pictures/SINAG TAMARAW/11.jpg", text: "SINAG - A picture during the performance of Wrive." },
      { thumb: "John Media Folder/Pictures/SINAG TAMARAW/12.jpg", text: "SINAG - A picture during the performance of HEYJUNE!." },
      { thumb: "John Media Folder/Pictures/SINAG TAMARAW/13.jpg", text: "SINAG - Another picture during the performance of HEYJUNE!." },
      { thumb: "John Media Folder/Pictures/SINAG TAMARAW/t'bolim.png", text: "SINAG - A picture during the Game 1 of T'boli vs Mangyan the guy in yellow at the front is actually Waukee Apoya a classmate of mine." },
      { thumb: "John Media Folder/Pictures/SINAG TAMARAW/t'bolim2.png", text: "SINAG - Another picture during the Game 1 of T'boli vs Mangyan Men's Basketball." },
      { thumb: "John Media Folder/Pictures/SINAG TAMARAW/t'bolim3.png", text: "SINAG - A very serious selfie picture of me during the T'boli vs Mangyan Basketball game." },
    ],
    videos: [
  { video: "<video width='450' height='230' controls><source src='John Media Folder/videos/SINAG/12.mp4' type='video/mp4'>Your browser does not support the video tag.</video>", text: "SINAG - Video 1." },
      { video: "<video width='450' height='230' controls><source src='John Media Folder/videos/SINAG/3.mp4'></video>", text: "SINAG - Video 2." },
      { video: "<video width='450' height='230' controls><source src='John Media Folder/videos/SINAG/7.mp4'></video>", text: "SINAG - Video 3." },
      { video: "<video width='450' height='230' controls><source src='John Media Folder/videos/SINAG/2.mp4'></video>", text: "SINAG - Video 4." },
      { video: "<video width='450' height='230' controls><source src='John Media Folder/videos/SINAG/4.mp4'></video>", text: "SINAG - Video 5." },
      { video: "<video width='450' height='230' controls><source src='John Media Folder/videos/SINAG/9.mp4'></video>", text: "SINAG - Video 6." },
      { video: "<video width='450' height='230' controls><source src='John Media Folder/videos/SINAG/10.mp4'></video>", text: "SINAG - Video 7." },
      { video: "<video width='450' height='230' controls><source src='John Media Folder/videos/SINAG/Sports1.mp4'></video>", text: "SINAG - T'Boli Vs Mangyan Game 1 Men's Basketball" },
      { video: "<video width='450' height='230' controls><source src='John Media Folder/videos/SINAG/Sports2.mp4'></video>", text: "SINAG - T'Boli Vs Tausug Women's Basketball Game." },
    ]
  },
  { // COMM
    name: "JOHN MATHEW MONTE",
    photos: [
      { thumb: "John Media Folder/Pictures/PURPOSIVE COMMUNICATION/group.jpg", text: "COMM - A picture of my group during our lesson, Communication Register." },
      { thumb: "John Media Folder/Pictures/PURPOSIVE COMMUNICATION/image.png", text: "COMM - A picture to one of our slides in our lesson, Communication Register." },
      { thumb: "John Media Folder/Pictures/PURPOSIVE COMMUNICATION/111.jpg", text: "COMM - A picture during the lesson of our classmate their lesson is about Debate." },
      { thumb: "John Media Folder/Pictures/PURPOSIVE COMMUNICATION/112.jpg", text: "COMM - A picture during the lesson of our classmate their lesson is about Communication Across Professions." }
    ],
    videos: [
      { video: "<video width='450' height='230' controls><source src='John Media Folder/Videos/COMM/Report.mp4' type='video/mp4'>Your browser does not support the video tag.</video>", text: "COMM - A video during our presentation in Purposive communication our topic is about Communication Register." },
      { video: "<video width='450' height='230' controls><source src='John Media Folder/Videos/COMM/Report2.mp4' type='video/mp4'>Your browser does not support the video tag.</video>", text: "COMM - Another video during our presentation in Purposive communication our topic is about Communication Register." },
      { video: "<video width='450' height='230' controls><source src='John Media Folder/Videos/COMM/Report3.mp4' type='video/mp4'>Your browser does not support the video tag.</video>", text: "COMM - A video during the presentation of our classmates. Their topic is about Debate." },
      { video: "<video width='450' height='230' controls><source src='John Media Folder/Videos/COMM/Report4.mp4' type='video/mp4'>Your browser does not support the video tag.</video>", text: "COMM - A video during the presentation of our classmates. Their topic is about Communication across professions." }
    ]
  }
];

// state
let activeSubject = 0; // subject index
let activeTab = 'photos'; // 'photos' or 'videos'
let pageIndex = 0;

// elements
const subjectBtns = document.querySelectorAll('.subject-btn');
const tabBtns = document.querySelectorAll('.tab-btn');
const studentNameEl = document.getElementById('student-name');
const contentInner = document.getElementById('content-inner');
const pagerEl = document.getElementById('pager');
const backBtn = document.getElementById('backBtn');
const nextBtn = document.getElementById('nextBtn');

// initialize
function init(){
  // wire top subject buttons
  subjectBtns.forEach(btn => {
    btn.addEventListener('click', (e) => {
      subjectBtns.forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');
      activeSubject = Number(btn.dataset.sub);
      pageIndex = 0;
      updateStudentHeader();
      renderContent();
    });
  });

  // tabs
  tabBtns.forEach(btn=>{
    btn.addEventListener('click', (e)=>{
      tabBtns.forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');
      activeTab = btn.dataset.tab;
      pageIndex = 0;
      renderContent();
    });
  });

  backBtn.addEventListener('click', () => {
    const items = getActiveItems();
    pageIndex = Math.max(0, pageIndex - 1);
    renderContent();
  });

  nextBtn.addEventListener('click', () => {
    const items = getActiveItems();
    pageIndex = Math.min(items.length - 1, pageIndex + 1);
    renderContent();
  });

  // initial render
  updateStudentHeader();
  renderContent();
}

// return array of items for active subject & tab
function getActiveItems(){
  const subj = subjectsData[activeSubject];
  return activeTab === 'photos' ? subj.photos : subj.videos;
}

function updateStudentHeader(){
  studentNameEl.textContent = subjectsData[activeSubject].name;
}

// render content area (thumbnail/video + text) and pager
function renderContent(){
  const items = getActiveItems();
  if(!items || items.length === 0){
    contentInner.innerHTML = `<div class="content-thumb">No content</div><div class="content-text">No items available.</div>`;
    pagerEl.textContent = "0 / 0";
    return;
  }

  // clamp pageIndex
  pageIndex = Math.max(0, Math.min(pageIndex, items.length - 1));

  const current = items[pageIndex];
  let leftHtml = '';
  if(activeTab === 'photos'){
    leftHtml = `<div class="content-thumb"><img src="${current.thumb}" alt="photo" style="width:100%;height:100%;object-fit:cover;border-radius:4px"></div>`;
  }else{
    leftHtml = `<div class="content-thumb">${current.video || ''}</div>`;
  }

  const rightHtml = `<div class="content-text">${current.text || ''}</div>`;

  contentInner.innerHTML = leftHtml + rightHtml;
  pagerEl.textContent = `${pageIndex + 1} / ${items.length}`;
}

// run
init();