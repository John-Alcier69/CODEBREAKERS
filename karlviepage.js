const subjectsData = [
  { // P.E (index 0)
    name: "KARLVIE ZEL MORTIZ",
    photos: [
      { thumb: "imagesnikarl/imagesforp.e/me.jpg", text: "P.E - Picture of My self before the exercise." },
      { thumb: "imagesnikarl/imagesforp.e/cm.jpg", text: "P.E - Also me taking a picture of my classmate with his permission." },
      { thumb: "imagesnikarl/imagesforp.e/selfie.jpg", text: "Quick selfie of my groupmates before the exercise." },
      { thumb: "imagesnikarl/imagesforp.e/wallpushup.jpg", text: "P.E - This is my groupmate performing a proper wall pushups." },
      { thumb: "imagesnikarl/imagesforp.e/pushup.jpg", text: "P.E - This is my groupmate performing a proper standard pushup." },
      { thumb: "imagesnikarl/imagesforp.e/squats.jpg", text: "P.E - This is my groupmates performing squats." },
      { thumb: "imagesnikarl/imagesforp.e/mountainclimbers.jpg", text: "P.E - This is my groupmate performing a mountain climbers." },
    ],
  },
  { // NSTP
    name: "KARLVIE ZEL MORTIZ",
   photos: [
      { thumb: "imagesnikarl/imagesfornstp/cybercrime.jpg", text: "NSTP - Picture of me in the cyber crime precention act primer and anti hazing." },
      { thumb: "imagesnikarl/imagesfornstp/actprimer.jpg", text: "NSTP - CYBER CRIME PREVENTION ACT PRIMER." },
      { thumb: "imagesnikarl/imagesfornstp/antihazing.jpg", text: "NSTP - CYBER CRIME PREVENTION AND ANTI HAZING." },
      { thumb: "imagesnikarl/imagesfornstp/speaker.jpg", text: "NSTP - speaker in 'CYBER CRIME PREVENTION'." },
      { thumb: "imagesnikarl/imagesfornstp/cpr.jpg", text: "NSTP - RED CROSS EVENT." },
      { thumb: "imagesnikarl/imagesfornstp/redcross.jpg", text: "NSTP - DEMO OF 'CPR'." },
      { thumb: "imagesnikarl/imagesfornstp/feur.jpg", text: "FEUR - Onsite class in FEUR." },
      { thumb: "imagesnikarl/imagesfornstp/feur1.jpg", text: "FEUR - Onsite class in FEUR." },
      { thumb: "imagesnikarl/imagesfornstp/connected.jpg", text: "SEMINAR - seminar of feu for bsit 1-1." },
      { thumb: "imagesnikarl/imagesfornstp/start.jpg", text: "SEMINAR - This si the speaker 'Sir Daryl bocbao'" },
      { thumb: "imagesnikarl/imagesfornstp/seminarspeaker.jpg", text: "SEMINAR - This si the second speaker of the seminar." },
      { thumb: "imagesnikarl/imagesfornstp/scope.jpg", text: "SEMINAR - purpose of the seminar" },
      { thumb: "imagesnikarl/imagesfornstp/wiring.jpg", text: "SEMINAR - proper and the unproper wiring on server here in the philippines." },
    ],
    videos: [
      { video: "<video width='350' height='230' controls><source src='imagesnikarl/videos/game.mp4' type='video/mp4'>Your browser does not support the video tag.</video>", text: "NSTP - Quick video of the game called bluffer!!" },
    ]
  },
  { // SINAG
    name: "KARLVIE ZEL MORTIZ",
   photos: [
      { thumb: "imagesnikarl/imagesforsinag/intro_resized_300x230 (1).jpg", text: "SINAG - all artist that has been invited in the sinag tamawas 2025!" },
      { thumb: "imagesnikarl/imagesforsinag/marikina.jpg", text: "SINAG - picture of professors in marikina campus." },
      { thumb: "imagesnikarl/imagesforsinag/pictureme.jpg", text: "SINAG - picture of me and my classmate in sinag." },
      { thumb: "imagesnikarl/imagesforsinag/selfie.jpg", text: "SINAG - selfie of my groupmates." },
      { thumb: "imagesnikarl/imagesforsinag/view.jpg", text: "SINAG - small view of the stage." },
      { thumb: "imagesnikarl/imagesforsinag/viewnight.jpg", text: "SINAG - small view of the stage in night." },
      { thumb: "imagesnikarl/imagesforsinag/lolaamour.jpg", text: "SINAG - LOLA AMOUR." },
      { thumb: "imagesnikarl/imagesforsinag/wrive.jpg", text: "SINAG - WRIVE." },
      { thumb: "imagesnikarl/imagesforsinag/projectwan.jpg", text: "SINAG - PROJECT WAN." },
      { thumb: "imagesnikarl/imagesforsinag/artist.jpg", text: "SINAG - all of the artist combined in the stage in one frame." },
      { thumb: "imagesnikarl/imagesforsinag/artist1.jpg", text: "SINAG - all of the artist combined in the stage in one frame." },
      { thumb: "imagesnikarl/imagesforsinag/songster.jpg", text: "SINAG - SONGSTERS." },
      { thumb: "imagesnikarl/imagesforsinag/songster1.jpg", text: "SINAG - SONGSTERS." },
      { thumb: "imagesnikarl/imagesforsinag/songster4.jpg", text: "SINAG - SONGSTERS." },
      { thumb: "imagesnikarl/imagesforsinag/dance.jpg", text: "SINAG - DANCE GROUP." },
      { thumb: "imagesnikarl/imagesforsinag/dance3.jpg", text: "SINAG - DANCE GROUP." },
      { thumb: "imagesnikarl/imagesforsinag/dance4.jpg", text: "SINAG - DANCE GROUP." },
      { thumb: "imagesnikarl/imagesforsinag/both.jpg", text: "SINAG - BOOTH." },
      { thumb: "imagesnikarl/imagesforsinag/both1.jpg", text: "SINAG - BOOTH." },
      { thumb: "imagesnikarl/imagesforsinag/foodbooth.jpg", text: "SINAG - FOOD BOOTH." },
      { thumb: "imagesnikarl/imagesforsinag/foodbooth1.jpg", text: "SINAG - FOOD BOOTH." },
      { thumb: "imagesnikarl/imagesforsinag/foodbooth2.jpg", text: "SINAG - FOOD BOOTH." },
      { thumb: "imagesnikarl/imagesforsinag/foodbooth3.jpg", text: "SINAG - FOOD BOOTH." },
      { thumb: "imagesnikarl/imagesforsinag/foodbooth4.jpg", text: "SINAG - FOOD BOOTH." },
      { thumb: "imagesnikarl/imagesforsinag/start.jpg", text: "SPORTS - starting of the sinag sports." },
      { thumb: "imagesnikarl/imagesforsinag/halloween.jpg", text: "HALLOWEEN - HAPPY HALLOWEEN!!" },
      
    ],
    videos: [
      { video: "<video width='350' height='230' controls><source src='imagesnikarl/videos/lolaamoursong.mp4' type='video/mp4'>Your browser does not support the video tag.</video>", text: "SINAG - clip of LOLA AMOUR." },
      { video: "<video width='350' height='230' controls><source src='imagesnikarl/videos/heyjune.mp4' type='video/mp4'>Your browser does not support the video tag.</video>", text: "SINAG - clip of  HEY JUNE." },
      { video: "<video width='350' height='230' controls><source src='imagesnikarl/videos/div9.mp4' type='video/mp4'>Your browser does not support the video tag.</video>", text: "SINAG - clip of DIV9." },
      { video: "<video width='350' height='230' controls><source src='imagesnikarl/videos/parade.mp4' type='video/mp4'>Your browser does not support the video tag.</video>", text: "SINAG - Parade." },
      { video: "<video width='350' height='230' controls><source src='imagesnikarl/videos/parade1.mp4' type='video/mp4'>Your browser does not support the video tag.</video>", text: "SINAG - Parade." },
      { video: "<video width='350' height='230' controls><source src='imagesnikarl/videos/start.mp4' type='video/mp4'>Your browser does not support the video tag.</video>", text: "SINAG - Start of Sinag sports program." },
      { video: "<video width='350' height='230' controls><source src='imagesnikarl/videos/sportmanship.mp4' type='video/mp4'>Your browser does not support the video tag.</video>", text: "SINAG - Sports man ship." },
      { video: "<video width='350' height='230' controls><source src='imagesnikarl/videos/clip.mp4' type='video/mp4'>Your browser does not support the video tag.</video>", text: "SINAG - Clip of first game." },
      { video: "<video width='350' height='230' controls><source src='imagesnikarl/videos/clip1.mp4' type='video/mp4'>Your browser does not support the video tag.</video>", text: "SINAG - Clip of first game." },
    ]
  },
  { // COMM
    name: "KARLVIE ZEL MORTIZ",
    photos: [
      { thumb: "imagesnikarl/imagesforcomm/mygroup.jpg", text: "COMM - this is us in our successful report about communation and technology." },
      { thumb: "imagesnikarl/imagesforcomm/mygroup1.jpg", text: "COMM - Second picture." },
      { thumb: "imagesnikarl/imagesforcomm/group.jpg", text: "COMM - Reporters." },
      { thumb: "imagesnikarl/imagesforcomm/barbie.jpg", text: "COMM - Our class representative reporting their topic." },
      { thumb: "imagesnikarl/imagesforcomm/debate.jpg", text: "COMM - Reporting about debate." },
      { thumb: "imagesnikarl/imagesforcomm/barbie2.jpg", text: "COMM - Again our class representative reporting another topic." },
      { thumb: "imagesnikarl/imagesforcomm/ppt.jpg", text: "COMM - PPT of other group report." },
    ],
  }
];

// state
let activeSubject = 0; // subject index
let activeTab = 'photos'; // 'photos' or 'videos'
let pageIndex = 0;

// elements
const subjectBtns = document.querySelectorAll('.subject-btn');
const tabBtns = document.querySelectorAll('.tab-btn');
const studentNameEl = document.getElementById('student-name');
const contentInner = document.getElementById('content-inner');
const pagerEl = document.getElementById('pager');
const backBtn = document.getElementById('backBtn');
const nextBtn = document.getElementById('nextBtn');

// initialize
function init(){
  // wire top subject buttons
  subjectBtns.forEach(btn => {
    btn.addEventListener('click', (e) => {
      subjectBtns.forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');
      activeSubject = Number(btn.dataset.sub);
      pageIndex = 0;
      updateStudentHeader();
      renderContent();
    });
  });

  // tabs
  tabBtns.forEach(btn=>{
    btn.addEventListener('click', (e)=>{
      tabBtns.forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');
      activeTab = btn.dataset.tab;
      pageIndex = 0;
      renderContent();
    });
  });

  backBtn.addEventListener('click', () => {
    const items = getActiveItems();
    pageIndex = Math.max(0, pageIndex - 1);
    renderContent();
  });

  nextBtn.addEventListener('click', () => {
    const items = getActiveItems();
    pageIndex = Math.min(items.length - 1, pageIndex + 1);
    renderContent();
  });

  // initial render
  updateStudentHeader();
  renderContent();
}

// return array of items for active subject & tab
function getActiveItems(){
  const subj = subjectsData[activeSubject];
  return activeTab === 'photos' ? subj.photos : subj.videos;
}

function updateStudentHeader(){
  studentNameEl.textContent = subjectsData[activeSubject].name;
}

// render content area (thumbnail/video + text) and pager
function renderContent(){
  const items = getActiveItems();
  if(!items || items.length === 0){
    contentInner.innerHTML = `<div class="content-thumb">No content</div><div class="content-text">No items available.</div>`;
    pagerEl.textContent = "0 / 0";
    return;
  }

  // clamp pageIndex
  pageIndex = Math.max(0, Math.min(pageIndex, items.length - 1));

  const current = items[pageIndex];
  let leftHtml = '';
  if(activeTab === 'photos'){
    leftHtml = `<div class="content-thumb"><img src="${current.thumb}" alt="photo" style="width:100%;height:100%;object-fit:cover;border-radius:4px"></div>`;
  }else{
    leftHtml = `<div class="content-thumb">${current.video || ''}</div>`;
  }

  const rightHtml = `<div class="content-text">${current.text || ''}</div>`;

  contentInner.innerHTML = leftHtml + rightHtml;
  pagerEl.textContent = `${pageIndex + 1} / ${items.length}`;
}

// run
init();
